# 아이템 28 : API 안전성을 확인하라

모든 자동차의 운전 방법이 다르다면, 운전하기 전 운전 방법을 배워야한다.

일시적으로만 사용되는 인터페이스를 배우는 것은 귀찮고 의미 없는 일이다.

즉, 운전 방법은 안정적이며 표준적인 것이 좋다. 이는 프로그래밍도 마찬가지이다. 최대한 표준적인 API를 선호한다.

API 안전성을 확인하기 위해 API를 개발한 작성자가 해당 부분에 대해서 불안정한 부분을 명확하게 알려줘야한다.

일반적으론 버전을 활용하여 라이브러리와 모듈의 안전성을 나타낸다.

### 버저닝 시스템

많은 버저닝 시스템이 있지만, 일반적으론 시멘틱 버저닝을 사용한다.

- 시멘틱 버저닝
    - 버전 번호를 세 번호로 나누어서 구성한다.
        - MAJOR, MINOR, PATCH로 구성되어 있다.
    - 각 부분은 0이상의 정수로 구성되며, 0부터 시작하여 API에 아래와 같은 변경사항이 있을 때 1씩 증가시킨다.

```kotlin
MAJOR 버전 : 호환되지 않는 수준의 API 변경
MINOR 버전 : 이전 변경과 호환되는 기능을 추가
PATCH 버전 : 간단한 버그 수정
```

- MAJOR를 증가시킬 땐 MINOR와 PATCH를 0으로 돌려둔다.
- MINOR를 증가시킬 땐 PATCH를 0으로 돌려둔다.

메이저 버전이 0인경우(0.y.z) 초기 개발 전용버전을 의미한다. 따라서 언제든지 변경될 수 있고, 안정적이지 않다는 의미이다.

### Annotation

- `@Experimental(level = Experimental.Level.WARNING)` 을 사용하면 요소를 보고 사용할 순 있지만, 사용할 때 경고나 오류가 출력된다.
- `@Deprecated` : 안정적인 API의 일부를 변경해야 한다면, 전환하는데 시간을 두고 해당 어노테이션을 활용하여 사용자게에 미리 알려줘야 한다.

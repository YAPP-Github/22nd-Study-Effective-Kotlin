# 아이템 31 : 문서로 규약을 정의하라

- 함수로 모든 개발자들이 사용하는 기능을 만들었다해도 문서화가 제대로 되어 있지 않다면 명확하게 어떠한 기능을 하는지 알아보기 힘듦.
    - 함수와, 클래스가 이름만으로 예측할 수 없는 세부사항에 대해서
- 함수가 무엇을 하는지 명확하게 설명하고 싶다면 `KDoc` 주석을 붙여 주는 것이 좋다. → 밑에서 더 설명.

### 규약

어떤 행위(ex 클래스, 함수)를 구현하기 전 지켜야하는 일종의 약속

### 규약 정의하기

다양한 방법이 있지만, 대표적인 몇 가지를 정리해 보자.

- 이름 : 함수나 클래스의 이름으로 동작 예측이 가능하도록 설계
- 주석과 문서 : 모든 규약을 적을 수 있는 방법
- 타입 : 해당 객체에 대해서 많은 것을 알려줌

### 주석을 써야할까?

- 함수 이름과 파라미터만으로 정확하게 표현되는 요소에는 따로 주석을 넣지 않는 것이 좋다.
- 주석을 다는 것보다 함수로 추출하는 것이 훨씬 좋다.

```kotlin
fun update() {
    updateUser()
    updateBooks()
}
```

- 함수들의 규약 설명과, 최소한의 설명 등을 할 때 주석은 굉장히 유용하다.
    - ex) `listOf` 함수의 설명
        - “read-only 그리고, 직렬화할 수 있는 List를 리턴”

### KDoc 형식

- 주석으로 함수를 문서화할 때 사용되는 공식적인 형식.
- 모든 주석은 `/**` 로 시작해서 `*/` 로 끝난다.
- 모든 줄은 일반적으로 `*` 로 시작한다.
- 첫 번째 부분은 요소에 대한 요약 설명이다.
- 두 번째 부분은 상세 설명이다.
- 이어지는 줄은 모두 태그로 시작한다.
    - 추가적인 설명을 위해 사용

```kotlin
/**
 * 트리 자료 구조(immutable) -> [요약 설명]
 * 
 * 1개 이상의 요소를 갖는 트리를 나타내는 클래스입니다.(immutale) -> [상세 설명]
 * 트리의 노드는 요소를 가질 수 있으며,
 * 또한 왼쪽과 오른쪽에 서브 트리를 가질 수 있습니다.
 * 
 * @param T 트리가 갖는 요소의 타입을 지정합니다. -> [태그]
 * @property value 트리의 현재 노드에 할당할 값을 의미합니다.
 * 
 */
```

모든 것을 설명할 필요는 없다. 짧으면서 명확하지 않은 부분을 자세하게 설명하는 문서가 좋은 문서이다.

### 타입 시스템과 예측

- 리스코프 치환 원칙 : 클래스가 어떤 동작을 할 것이라 예측되면, 그 서브클래스도 이를 보장해야 한다.
    - S가 T의 서브타입이라면, 변경이 없어도 T타입 객체를 S타입 객체로 대체할 수 있어야함.
- 사용자가 클래스의 동작을 확실하게 예측할 수 있게 하려면 인터페이스를 활용하여 규약을 잘 정의해야함.
- 설명과 규약은 인터페이스를 더욱 유용하게 만듬.

### 정리

- 외부 API를 구현할 때는 규약을 잘 정의해야 한다.
- 규약은 사용자가 객체를 사용하는 방법을 쉽게 이해하는 등 요소를 쉽게 예측할 수 있게 해준다.
- 규약은 어떻게 동작하고, 앞으로 어떻게 동작할지를 사용자에게 전달해 준다.
